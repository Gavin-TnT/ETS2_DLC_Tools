# ETS2 DLC Tools 🚛

基于PyQt6的欧洲卡车模拟2（ETS2）DLC管理工具，提供直观的图形界面来管理游戏DLC文件。

## 🎯 功能特性

### 核心功能
- **DLC文件管理**：查看、安装、卸载DLC文件
- **批量操作**：支持选中多个DLC进行批量安装/卸载
- **智能检测**：自动检测游戏安装路径和DLC文件
- **安全操作**：移动而非删除文件，确保数据安全
- **日志记录**：完整的操作日志，便于追踪和调试

### 界面特性
- **现代化UI**：基于PyQt6的专业界面设计
- **响应式布局**：自适应窗口大小调整
- **直观操作**：清晰的按钮和状态提示
- **多选支持**：Ctrl+点击或Shift+点击选择多个文件

## 🚀 快速开始

### 系统要求
- Python 3.8+
- Windows/Linux/macOS
- 欧洲卡车模拟2游戏（可选，用于DLC管理）

### 安装运行
```bash
# 克隆项目
git clone <项目地址>
cd ETS2_DLC_Tools

# 安装依赖
pip install -r requirements.txt

# 运行应用
python main.py
```

## 📋 使用说明

### 1. 首次运行
- 程序会自动搜索ETS2游戏安装路径
- 如果未找到，可手动在设置中指定游戏路径
- 确保游戏路径正确，以便正确管理DLC文件

### 2. 已安装DLC页面
- **查看DLC**：显示当前游戏目录中的所有DLC文件
- **卸载选中**：选择要卸载的DLC文件，点击"卸载选中DLC"
- **卸载全部**：点击"卸载所有DLC"移动所有DLC到临时文件夹

### 3. 未安装DLC页面  
- **查看可用DLC**：显示temp_dlcs文件夹中的DLC文件
- **安装选中**：选择要安装的DLC文件，点击"安装选中DLC"
- **安装全部**：点击"安装所有DLC"恢复所有DLC到游戏目录

### 4. 设置页面
- **游戏路径**：手动设置或修改ETS2游戏安装路径
- **自动检测**：程序会自动搜索常见的Steam安装路径

## 🛠 技术架构

### 技术栈
- **GUI框架**：PyQt6 6.5.0+
- **日志系统**：colorlog + 文件日志
- **配置管理**：JSON配置文件
- **文件操作**：标准库shutil和os

### 项目结构
```
ETS2_DLC_Tools/
├── main.py                 # 应用程序入口
├── ui/
│   └── MainWindow.py      # 主窗口界面
├── config.py              # 配置管理
├── utils.py               # 工具函数
├── config.json            # 配置文件
├── requirements.txt       # 项目依赖
└── logs/                  # 日志文件
```

### 核心组件
- **MainWindow**：主窗口类，管理整个应用程序界面
- **页面管理**：堆栈式页面切换（已安装/未安装/设置）
- **DLC管理器**：文件移动、列表更新、状态检查
- **配置系统**：游戏路径存储、界面设置保存

## 🔧 开发指南

### 环境搭建
```bash
# 创建虚拟环境
python -m venv venv

# 激活环境
# Windows:
venv\Scripts\activate
# Linux/Mac:
source venv/bin/activate

# 安装开发依赖
pip install -r requirements.txt
```

### 代码规范
- 使用Python类型提示
- 遵循PEP 8代码风格
- 添加适当的注释和文档字符串
- 使用logging模块记录操作日志

### 添加新功能
1. 在MainWindow.py中添加新的页面方法
2. 在导航栏添加对应的按钮
3. 实现页面切换逻辑
4. 添加必要的信号槽连接

## 📝 注意事项

### 文件安全
- DLC文件被移动到temp_dlcs文件夹而非删除
- 可以随时从temp_dlcs文件夹恢复DLC
- 程序不会修改或损坏原始DLC文件

### 路径设置
- 确保游戏路径设置正确
- temp_dlcs文件夹会在游戏目录下自动创建
- 程序会记住上次使用的游戏路径

### 多选操作
- 支持Ctrl+点击选择多个不连续文件
- 支持Shift+点击选择连续文件
- 可以拖拽选择多个文件

## 🤝 贡献指南

欢迎提交Issue和Pull Request来改进这个项目！

### 提交Issue
- 描述清楚遇到的问题
- 提供复现步骤
- 附上相关的日志信息

### 提交代码
1. Fork项目
2. 创建特性分支
3. 提交你的修改
4. 创建Pull Request

## 📄 许可证

本项目采用MIT许可证 - 详见LICENSE文件

## 🙏 致谢

- 欧洲卡车模拟2开发团队
- PyQt6框架贡献者
- 开源社区的支持

---

**⭐ 如果这个项目对你有帮助，请给个Star支持一下！**